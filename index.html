<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Repaso Oposiciones CARM</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; }
    .selector { background: #f5f5f5; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
    select, input { padding: 8px; margin: 5px; }
    button { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Preparación Oposiciones CARM</h1>
  
  <div class="selector">
    <h2>Selecciona tu test:</h2>
   <select id="categoriaSelect">
    <option value="servicios">Agrupación Profesional de Servicios</option>
    <option value="auxiliar">Auxiliar Administrativo</option>
    <option value="administrativo">Administrativo</option>
  </select>

  <select id="temaSelect">
    <!-- Opciones se cargarán dinámicamente según categoría -->
  </select>
    <select id="subtemaSelect">
    <!-- Opciones se cargarán dinámicamente según categoría -->
  </select>
       
    <input type="number" id="numPreguntas" min="5" max="100" value="10" placeholder="Nº de preguntas">
    <button onclick="generarTest()">Comenzar Test</button>
  </div>

  <script>
 // Datos de temas por categoría (podría ir en un JS aparte)
const temasPorCategoria = {
  servicios: ["Constitucion", "Estatuto", "Prevención Riesgos"],
  auxiliar: ["Constitucion", "Estatuto", "Procedimiento Administrativo"],
  administrativo: ["Constitucion", "Estatuto", "Contratación Pública", "Presupuestos"]
};
    
function cargarTemas() {
  const categoria = document.getElementById('categoriaSelect').value;
  const temaSelect = document.getElementById('temaSelect');
  temaSelect.innerHTML = '<option value="all">Todos los temas</option>';
  
  temasPorCategoria[categoria].forEach(tema => {
    const option = document.createElement('option');
    option.value = tema.toLowerCase();
    option.textContent = tema.replace(/_/g, ' ');
    temaSelect.appendChild(option);
  });
}

// Cargar temas al cambiar categoría
document.getElementById('categoriaSelect').addEventListener('change', cargarTemas);
cargarTemas(); // Carga inicial

function generarTest() {
  const params = new URLSearchParams({
    categoria: document.getElementById('categoriaSelect').value,
    tema: document.getElementById('temaSelect').value,
    num: document.getElementById('numPreguntas').value
  });
  
  window.location.href = `test.html?${params.toString()}`;
}
  </script>
</body>
</html>
